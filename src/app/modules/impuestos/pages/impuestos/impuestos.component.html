<div class="flex align-items-center justify-content-end gap-2">
  <label>Estatus</label>
  <p-dropdown
    [options]="listStatus"
    optionLabel="label"
    (onChange)="changeStatus($event)"></p-dropdown>
</div>

<p-table
  [value]="taxes"
  [lazy]="true"
  (onLazyLoad)="loadTaxes($event)"
  [paginator]="true"
  [rows]="limit"
  [totalRecords]="recordsTotal"
  [rowsPerPageOptions]="rowsPerPageOptions"
  [showCurrentPageReport]="true"
  currentPageReportTemplate="Mostrando del {first} al {last} de {totalRecords} registros"
  [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template pTemplate="header">
    <tr>
      <th class="text-center">Código</th>
      <th class="text-center">Descripción</th>
      <th class="text-center">Siglas</th>
      <th class="text-center">Porcentaje</th>
      <th class="text-center">Tipo</th>
      <th class="text-center">Estatus</th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-tax>
    <tr>
      <td class="text-center">{{ tax.tax_code }}</td>
      <td class="text-center">{{ tax.tax_description }}</td>
      <td class="text-center">{{ tax.tax_siglas }}</td>
      <td class="text-right">{{ tax.tax_percentage | number: '1.2-2' }} %</td>
      <td class="text-center">{{ tax.tax_type }}</td>
      <td class="text-center">
        <p-tag
          [value]="tax.tax_status"
          [severity]="
            tax.tax_status === 'Activo' ? 'success' : 'danger'
          "></p-tag>
      </td>
      <td class="text-center">
        <p-button
          icon="pi pi-pencil"
          styleClass="p-button-rounded p-button-text"
          pTooltip="Editar"
          tooltipPosition="top"
          (click)="editar(tax)">
        </p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
